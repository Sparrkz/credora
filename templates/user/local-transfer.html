


<!-- header-->

{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="csrf-token" content="AQll6B5fbjdgXAE3HCyc6WsgHWXbNACd7zbg" />
    <meta name="theme-color" content="#5a03d5" />
    <meta content="Welcome to Corion, your trusted partner in secure and innovative online banking. Manage your finances with ease, track your transactions, and enjoy unparalleled banking services designed to meet your needs. Join us today and experience the future of banking."
        name="description">
    <meta content="Corion, online banking, secure banking, innovative banking, financial management, banking solutions, digital banking, secure transactions"
        name="keywords">
    <meta content="Corion" name="author">
    <meta content="index, follow" name="robots">
    <link href="{% static 'src/images/favicon.png' %}" rel="icon">

    <script>
      document.addEventListener('contextmenu', event => event.preventDefault());
    </script>


    <meta property="og:title" content="Local Transfer | Secure and Innovative Online Banking Solutions">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="{% static 'src/images/logo.png' %}">
    <meta property="og:url" content="https://Corion.cc/local-transfer.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="{% static 'src/images/logo.png' %}">

    <title>Local Transfer | Secure and Innovative Online Banking Solutions</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@500&family=Urbanist:wght@700&display=swap"
        rel="stylesheet">

    <!-- Phone Number Input-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

    <!-- Phosphorus Icon Regular Weight -->
    <link href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/regular/style.css" rel="stylesheet">

    <!-- Phosphorus Icon Fill Weight -->
    <link href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/fill/style.css" rel="stylesheet">

    <!--  Include TinyMCE -->
    <script src="/tinymce/tinymce.min.js" referrerpolicy="origin"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>


    <!--  Include DataTable -->
    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.6/css/dataTables.dataTables.css" />

    <!-- AOS CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Animate CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- Loader CSS -->
    <link href="{% static 'src/css/loader.css' %}" rel="stylesheet">

    <!-- Tailwind CSS -->
    <link href="{% static 'src/css/output.css' %}" rel="stylesheet">
</head><body>

<!-- Loader -->
<div id="preloader-container">
    <div class="dot-spinner">
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
        <div class="dot-spinner__dot"></div>
    </div>
<script>
// Fallback to hide preloader if jQuery doesn't load
window.addEventListener('load', function() {
    var preloader = document.getElementById('preloader-container');
    if (preloader) {
        setTimeout(function() {
            preloader.style.display = 'none';
        }, 500);
    }
});
</script>

</div>

<div class="h-svh w-full flex flex-col justify-between overflow-y-auto">
    <!-- Side Bar -->
    
<div id="sidebar"
    class="lg:w-72 md:w-72 sm:w-full h-full sm:-translate-x-full sm:transition-transform sm:duration-300 fixed z-30 md:translate-x-0 bg-shark-50">
    <aside class="flex flex-col h-full w-full">
        <div class="grow-0 px-4 py-4">
            <div class="flex items-center justify-between">
                <a href="{% url 'user_dashboard' %}">
                    <img src="{% static 'src/images/logo.png' %}" alt="Corion Logo" class="h-[50px] w-auto">
                </a>

                <div class="flex gap-4">
                    <div class="relative nav-dropdown-container sm:block md:hidden">
                        <div class="nav-dropdown-toggle  h-[48px] w-[48px] flex items-center justify-center flex-shrink-0 rounded-full border border-border-color bg-shark-50 text-purple-heart-800 cursor-pointer">
                            <div class="flex items-center gap-3">
                                <i class="ph ph-globe text-xl text-purple-heart-500"></i>
                            </div>
                        </div>

                        <div class="absolute  nav-dropdown-content hidden bg-white rounded-sm border border-shark-200 sm:min-w-[200px] min-h-[100px] px-4 py-6">
                            <div class="nav-dropdown-arrow"></div>
                            <!-- Google Translate Element -->
                            <div id="google_translate_mobile" class="flex"></div>
                        </div>
                    </div>
                    <div class="toggle-sidebar h-[48px] w-[48px] sm:flex md:hidden items-center justify-center flex-shrink-0 rounded-full border border-border-color bg-shark-50 text-purple-heart-800 cursor-pointer">
                        <i class="ph ph-x text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="grow flex flex-col gap-6 md:mt-10 md:pb-10 sm:pb-6 sm:mt-4 overflow-y-scroll  px-4">
            <div class="flex flex-col gap-6">
                <a href="{% url 'user_dashboard' %}" class="flex items-center gap-3 "><i
                        class="ph ph-squares-four text-purple-heart-800 text-xl"></i>
                    Dashboard
                </a>
                <a href="{% url 'transaction_history' %}" class="flex items-center gap-3 "><i
                        class="ph ph-clock-counter-clockwise text-purple-heart-800 text-xl"></i>
                    Transaction History
                </a>
            </div>
            <div class="flex items-center justify-between gap-4">
                <span class="text-shark-300 whitespace-nowrap">Transactions</span>
                <div class="h-[1px] w-full rounded-full bg-shark-200"></div>
            </div>
            <div class="flex flex-col gap-6">
                <div class="dropdown-container">
                    <div class="dropdown-item flex items-center justify-between cursor-pointer">
                        <div class="flex items-center gap-3 "><i
                                class="ph ph-arrows-left-right text-purple-heart-800 text-xl"></i>
                            Transfer Funds
                        </div>
                        <span class="dropdown-icon"><i class="ph ph-caret-down"></i></span>
                    </div>

                    <div class="dropdown-content pl-9 mt-4 hidden flex-col gap-4">
                        <a href="{% url 'wire_transfer' %}" class="text-shark-500">Wire Transfer</a>
                        <a href="{% url 'local_transfer' %}" class="text-shark-500">Local Transfer</a>
                    </div>
                </div>


                <div class="dropdown-container">
                    <div class="dropdown-item flex items-center justify-between cursor-pointer">
                        <div class="flex items-center gap-3 "><i
                                class="ph ph-bank text-purple-heart-800 text-xl"></i>
                            Deposit Funds
                        </div>
                        <span class="dropdown-icon"><i class="ph ph-caret-down"></i></span>
                    </div>

                    <div class="dropdown-content pl-9 mt-4 hidden flex-col gap-4">
                        <a href="{% url 'deposit_funds' %}" class="text-shark-500">Deposit Funds</a>
                        <a href="{% url 'my_deposits' %}" class="text-shark-500">My Deposits</a>
                    </div>
                </div>
            </div>
            <div class="flex items-center justify-between gap-4">
                <span class="text-shark-300 whitespace-nowrap">Loan & More</span>
                <div class="h-[1px] w-full rounded-full bg-shark-200"></div>
            </div>
            <div class="flex flex-col gap-6">
                <a href="{% url 'virtual_card' %}" class="flex items-center gap-3 "><i
                        class="ph ph-credit-card text-purple-heart-800 text-xl"></i>
                    Virtual Card
                </a>

                <div class="dropdown-container">
                    <div class="dropdown-item flex items-center justify-between cursor-pointer">
                        <div class="flex items-center gap-3 "><i
                                class="ph ph-hand-withdraw text-purple-heart-800 text-xl"></i>
                            Loan & Mortgages
                        </div>
                        <span class="dropdown-icon"><i class="ph ph-caret-down"></i></span>
                    </div>

                    <div class="dropdown-content pl-9 mt-4 hidden flex-col gap-4">
                        <a href="{% url 'apply_loan' %}" class="text-shark-500">Apply For Loan</a>
                        <a href="{% url 'my_loans' %}" class="text-shark-500">My Loans & Mortgages</a>
                    </div>

                </div>

                <a href="{% url 'my_cashback' %}" class="flex items-center gap-3 "><i
                            class="ph ph-piggy-bank text-purple-heart-800 text-xl"></i>
                    My Cashbacks
                </a>
            </div>
            <div class="flex items-center justify-between gap-4">
                <span class="text-shark-300 whitespace-nowrap">Account Settings</span>
                <div class="h-[1px] w-full rounded-full bg-shark-200"></div>
            </div>
            <div class="flex flex-col gap-6">
                <a href="{% url 'manage_account' %}" class="flex items-center gap-3 "><i
                        class="ph ph-user text-purple-heart-800 text-xl"></i>
                    Manage Account
                </a>
                <a href="{% url 'security_settings' %}" class="flex items-center gap-3 "><i
                        class="ph ph-lock-key text-purple-heart-800 text-xl"></i>
                    Security Settings
                </a>
                <a href="{% url 'notifications' %}" class="flex items-center justify-between">
                    <span class="flex items-center gap-3 "><i
                            class="ph ph-bell-ringing text-purple-heart-800 text-xl"></i>
                        Notifications
                    </span>
                    <!-- Notification Count Badge -->
                                                                <span id="notification-count"
                            class="bg-red-500 text-white text-xs font-bold rounded-full h-[20px] w-[20px] flex items-center justify-center">
                            9+                        </span>
                                    </a>
                <a href="{% url 'logout' %}" class="flex items-center gap-3 "><i
                        class="ph ph-sign-out text-purple-heart-800 text-xl"></i>
                    Logout Account
                </a>
            </div>
        </div>

        <div class="grow-0 bg-shark-100 px-4 py-2 w-full">
            <a href="{% url 'manage_account' %}" class="flex items-center gap-3 text-secondary-dark cursor-pointer">
                {% if customer and customer.profile_picture %}
                <img src="{{ customer.profile_picture.url }}" alt="Profile Picture" class="h-[48px] w-[48px] object-center object-cover border-2 border-purple-heart-800 rounded-full">
                {% else %}
                <img src="{% static 'src/images/favicon.png' %}" alt="Profile Placeholder" class="h-[48px] w-[48px] object-center object-cover border-2 border-purple-heart-800 rounded-full">
                {% endif %}

                <p class="text-sm cursor-pointer">
                    <span class="block font-bold">{{ request.user.get_full_name|default:request.user.username }}</span>
                    <span class="block text-shark-600">{{ request.user.email }}</span>
                </p>
            </a>
        </div>

    </aside>
</div>
    <div class="lg:ml-72 md:ml-72 flex-1 flex flex-col overflow-y-hidden relative">
        <!--  Top Bar  -->
        
<div class="flex justify-between items-center md:px-6 sm:px-4 py-2 sm:h-[82px] md:h-[100px] border-b border-shark-100">
    <div class="toggle-sidebar h-[48px] w-[48px] sm:flex md:hidden items-center justify-center flex-shrink-0 rounded-full border border-border-color bg-shark-50 text-shark-950">
        <i class="ph ph-squares-four text-xl"></i>
    </div>
    <div class="flex items-center gap-8">
        <!--  Preview Card  -->
        <div class="sm:hidden md:flex md:gap-4 2xl:gap-6 w-fit">
            <div class="w-full flex items-end gap-8">
                <div class="flex flex-col">
                    <span class="ml-1">Hi {{ request.user.first_name|default:request.user.username }}</span>
                    <span class="text-xl font-bold whitespace-nowrap">Welcome Back</span>
                </div>
                <div class="flex-shrink-0">
                    {% if customer and customer.profile_picture %}
                    <img src="{{ customer.profile_picture.url }}" alt="Profile Picture" class="h-[48px] w-[48px] object-cover object-center rounded-full border-2 border-purple-heart-800">
                    {% else %}
                    <img src="{% static 'src/images/favicon.png' %}" alt="Profile Placeholder" class="h-[48px] w-[48px] object-cover object-center rounded-full border-2 border-purple-heart-800">
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="w-fit border-l-4 border-purple-heart-800  px-4 py-2 bg-gray-100  sm:hidden xl:flex flex-col items-start justify-center">
            <div class="text-sm text-purple-heart-800 whitespace-nowrap">Last Login</div>
            <div class="text-shark-600 font-bold whitespace-nowrap">
                {% if request.user.last_login %}{{ request.user.last_login|date:"M d, Y, g:i A" }}{% else %}Never{% endif %}
            </div>
        </div>
    </div>
    <div class="flex items-center gap-3">
        {% if customer and customer.profile_picture %}
        <img src="{{ customer.profile_picture.url }}" alt="Profile Picture" class="h-[22px] w-[22px] object-cover rounded-full border border-purple-heart-800">
        {% else %}
        <img src="{% static 'src/images/favicon.png' %}" alt="Profile Placeholder" class="h-[22px] w-[22px] object-cover rounded-full">
        {% endif %}
        <div class="h-[36px] border border-dashed border-shark-600"></div>
        <div class="font-bold text-lg mt-2">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} {{ total_balance }}</div>
    </div>
    <div class="flex sm:gap-3 md:gap-6">
        <div class="relative nav-dropdown-container sm:hidden md:block">
            <div class="nav-dropdown-toggle  h-[48px] w-[48px] flex items-center justify-center flex-shrink-0 rounded-full border border-border-color bg-shark-50 text-purple-heart-800 cursor-pointer">
                <div class="flex items-center gap-3">
                    <i class="ph ph-globe text-xl text-purple-heart-500"></i>
                </div>
            </div>

            <div class="absolute  nav-dropdown-content hidden bg-white rounded-sm border border-shark-200 sm:min-w-[200px] min-h-[100px] px-4 py-6">
                <div class="nav-dropdown-arrow"></div>
                <!-- Google Translate Element -->
                <div id="google_translate_desktop" class="flex"></div>
            </div>
        </div>
        <a href="{% url 'notifications' %}"
            class="relative h-[48px] w-[48px] flex items-center justify-center flex-shrink-0 rounded-full border border-border-color bg-shark-50 text-shark-950">
            <i class="ph ph-bell-ringing text-xl"></i>
            <!-- Notification Count Badge -->
                                        <span id="notification-count"
                    class="absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full h-[18px] w-[18px] flex items-center justify-center">
                    9+                </span>
                    </a>


        <div class="relative nav-dropdown-container">
            <div class="nav-dropdown-toggle flex items-center justify-center gap-2 flex-shrink-0 cursor-pointer h-[48px] sm:w-[48px] md:w-fit md:p-4 md:rounded sm:rounded-full border border-border-color bg-shark-50 text-shark-950">
                <div class="flex items-center gap-3"><i
                        class="ph ph-user text-shark-950 text-xl"></i>
                    <span class="sm:hidden md:block">Account</span>
                </div>
                <span class="nav-dropdown-icon md:block sm:hidden"><i class="ph ph-caret-down"></i></span>
            </div>

            <div class="absolute z-30 nav-dropdown-content hidden flex-col gap-4 bg-white rounded-2xl border border-shark-200 md:w-[250px] sm:w-[220px]">
                <div class="pt-4 px-4">
                    <a href="{% url 'manage_account' %}"
                        class="flex-center w-full h-[40px]  bg-purple-heart-500 text-white rounded-md ">{{ request.user.get_full_name|default:request.user.username }}</a>
                </div>
                <hr>
                <div class="flex flex-col space-y-1 items-start text-shark-500 px-2 pb-4">
                    <a href="{% url 'profile' %}"
                        class="w-full flex items-center gap-3 p-2 text-base hover:bg-shark-100 rounded">
                        <i class="ph ph-user text-xl"></i>
                        My Profile
                    </a>

                    <a href="{% url 'security_settings' %}"
                        class="w-full flex items-center gap-3 p-2 text-base hover:bg-shark-100 rounded">
                        <i class="ph ph-lock text-xl"></i>
                        Security Settings
                    </a>
                    <a href="{% url 'logout' %}"
                        class="w-full flex items-center gap-3 p-2 text-base hover:bg-shark-100 rounded">
                        <i class="ph ph-sign-out text-xl"></i>
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>        <main class="flex-1 overflow-y-auto hide-scrollbar">
            <!--  Title & Navigation Tabs  -->
            <div class="flex sm:flex-col md:flex-row md:items-center sm:items-start sm:justify-center md:justify-between gap-4 md:px-6 sm:px-4 mb-6 sm:mt-2 md:mt-6">
                <a href="{% url 'transaction_history' %}"
                   class="flex items-center w-fit md:gap-4 sm:gap-2">
                    <i class="ph ph-arrow-left text-xl"></i>
                    <h5 class="flex gap-2 text-shark-800 cursor-pointer">Local Transfer. <span
                                class="text-shark-400">Domestic</span></h5>
                </a>
                <div class="md:w-fit sm:w-full flex items-center gap-4">
                    <a href="{% url 'wire_transfer' %}"
                       class="bg-shark-50 text-shark-950 flex-center md:h-[48px] sm:h-[44px] sm:w-full md:w-[136px] rounded">
                        Wire
                        Transfer
                    </a>
                    <a href="{% url 'local_transfer' %}"
                       class="bg-shark-950 text-white flex-center md:h-[48px] sm:h-[44px] sm:w-full  md:w-[136px] rounded">
                        Local
                        Transfer
                    </a>
                </div>
            </div>
            <div class="grid grid-cols-12 md:gap-10 sm:gap-0">
                <div class="md:col-span-7 sm:col-span-12 md:pl-6">
                    <div class="bg-shark-50  sm:pt-6 md:pt-10 pb-12 md:mb-12">

                        <!-- Account Balance -->
                        <div class="mb-4 md:px-8 sm:px-4">
                            <div class="text-shark-800">Balance</div>
                            <div id="balance" class="text-3xl font-bold">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} {{ total_balance }}</div>
                        </div>

                        <div class="md:px-8 sm:px-4">
                            <div class="h-[1px] w-full bg-shark-200 "></div>
                        </div>


                        <div class="md:px-8 sm:px-4 my-6">
                            <!-- Daily Limit Text -->
                            <div class="flex justify-start items-center mb-2">
                                <span class="text-base font-medium text-shark-800">{% if has_custom_limit %}Daily Limit{% else %}Available Balance{% endif %} - </span>
                                <span class="text-base font-bold text-shark-900 ml-1">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} {{ daily_limit }}</span>
                            </div>

                            <!-- Progress Bar -->
                            <div class="w-full bg-gray-200 rounded-full h-[10px] mb-4">
                                {% widthratio daily_spent daily_limit 100 as progress_percentage %}
                                <div class="bg-purple-heart-600 h-[10px] rounded-full"
                                     style="width: {{ progress_percentage }}%;"></div>
                            </div>

                            <!-- Legend -->
                            <div class="flex justify-between items-center text-base">
                                <div class="flex items-center gap-2">
                                    <div class="h-3 w-3 bg-purple-heart-600 rounded-sm"></div>
                                    <span>Used <span
                                                class="sm:hidden md:inline">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} {{ daily_spent|default:"0.00" }}</span></span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="h-3 w-3 bg-gray-300 rounded-sm"></div>
                                    <span>Available <span
                                                class="sm:hidden md:inline">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} {{ daily_remaining|default:"0.00" }}</span></span>
                                </div>
                            </div>
                            {% if not has_custom_limit %}
                            <p class="text-xs text-shark-500 mt-2 italic">
                                <i class="ph ph-info"></i> Limit based on your account.
                            </p>
                            {% endif %}
                        </div>

                        <div class="md:px-6 sm:px-4">
                            <form id="local-transfer-form" action="{% url 'local_transfer' %}" method="post" class="sm:px-4 md:px-6  md:py-8 sm:py-6 bg-white mt-2 border border-shark-200 rounded">
                                {% csrf_token %}
                                {% if accounts and accounts|length > 1 %}
                                    <div class="mb-6">
                                        <label for="account_id" class="block mb-2 px-0 text-shark-800 text-sm after:content-['*'] after:ml-0.5 after:text-danger">Select Account</label>
                                        <div class="relative sm:h-[48px] md:h-[56px]">
                                            <span class="absolute start-0 top-1/2 -translate-y-1/2 text-shark-800 grid w-12 place-content-center pointer-events-none"><i class="ph ph-wallet text-lg"></i></span>
                                            <select id="account_id" name="account_id" class="input-default !pl-10">
                                                {% for acc in accounts %}
                                                <option value="{{ acc.id }}">{{ acc.account_number }} ({{ acc.currency }})</option>
                                                {% endfor %}
                                            </select>
                                            <span class="absolute z-10 end-0 top-1/2 -translate-y-1/2 text-shark-500 grid w-12 place-content-center pointer-events-none"><i class="ph ph-caret-down"></i></span>
                                        </div>
                                    </div>
                                {% elif accounts and accounts|length == 1 %}
                                    <input type="hidden" name="account_id" value="{{ accounts.0.id }}">
                                {% endif %}
                                <div id="form-status"></div>
                                <div class="flex flex-col gap-y-6">


                                    <div class="w-full">
                                        <label for="amount"
                                               class="block mb-2 px-0 text-shark-600 text-sm after:content-['*'] after:ml-0.5 after:text-danger">Enter
                                            Amount</label>
                                        <div class="relative sm:h-[48px] md:h-[56px]">
                                            <span class="absolute start-0.5 top-1/2 -translate-y-1/2  grid w-12 sm:h-[45.5px] md:h-[53.5px] place-content-center pointer-events-none text-lg bg-purple-heart-50 text-purple-heart-800 rounded-l">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %}</span>
                                            <input type="number"
                                                   id="amount"
                                                   name="amount"
                                                   class="d-fv input-default  tracking-widest  !pl-16"
                                                   placeholder="0.00"/>

                                        </div>
                                        <span class="feedback text-sm text-danger mt-3"></span>
                                    </div>

                                    <div class="grid md:grid-cols-2 sm:grid-cols-1 gap-4">
                                        <div class="w-full">
                                            <label for="transferFrom"
                                                   class="block mb-2 px-0 text-shark-800 text-sm after:content-['*'] after:ml-0.5 after:text-danger">Transfer
                                                From</label>
                                            <div class="relative sm:h-[48px] md:h-[56px]">
                                                  <span class="absolute start-0 top-1/2 -translate-y-1/2 text-shark-800 grid w-12 place-content-center pointer-events-none"><i
                                                              class="ph ph-wallet text-lg"></i></span>
                                                <select id="transferFrom" name="transferFrom"
                                                        class="s-fv input-default !pl-10">

                                                    <option value="main-balance">Main Balance</option>
                                                    <option value="loan-balance">Loan Balance</option>

                                                </select>
                                                <span class="absolute z-10 end-0 top-1/2 -translate-y-1/2 text-shark-500 grid w-12 place-content-center pointer-events-none"><i
                                                            class="ph ph-caret-down"></i></span>
                                            </div>
                                            <span class="feedback text-sm text-danger mt-3"></span>
                                        </div>
                                        <div class="w-full">
                                            <label for="beneficiaryAccountNumber"
                                                   class="block mb-2 px-0 text-shark-600 text-sm after:content-['*'] after:ml-0.5 after:text-danger">Beneficiary
                                                Account No.</label>
                                            <div class="relative sm:h-[48px] md:h-[56px]">
                                            <span class="absolute start-0 top-1/2 -translate-y-1/2 text-shark-800 grid w-12 place-content-center pointer-events-none"><i
                                                        class="ph ph-credit-card text-lg"></i></span>
                                                <input type="number"
                                                       id="beneficiaryAccountNumber"
                                                       name="beneficiaryAccountNumber"
                                                       class="d-fv input-default tracking-widest !pl-10"
                                                       placeholder="Enter Number"/>

                                            </div>
                                            <span class="feedback text-sm text-danger mt-3"></span>
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-2 sm:grid-cols-1 gap-4">
                                        <div class="w-full">
                                            <label for="beneficiaryAccountName"
                                                   class="block mb-2 px-0 text-shark-600 text-sm after:content-['*'] after:ml-0.5 after:text-danger">Beneficiary
                                                Account Name</label>
                                            <div class="relative sm:h-[48px] md:h-[56px]">
                                                 <span class="absolute start-0 top-1/2 -translate-y-1/2 text-shark-800 grid w-12 place-content-center pointer-events-none"><i
                                                             class="ph ph-user text-lg"></i></span>
                                                <input type="text"
                                                       id="beneficiaryAccountName"
                                                       name="beneficiaryAccountName"
                                                       class="t-fv input-default  !pl-10"
                                                       placeholder="Enter Name"/>

                                            </div>
                                            <span class="feedback text-sm text-danger mt-3"></span>
                                        </div>
                                        <div class="w-full">
                                            <label for="beneficiaryBankName"
                                                   class="block mb-2 px-0 text-shark-600 text-sm after:content-['*'] after:ml-0.5 after:text-danger">
                                                Beneficiary Bank Name</label>
                                            <div class="relative sm:h-[48px] md:h-[56px]">
                                            <span class="absolute start-0 top-1/2 -translate-y-1/2 text-shark-700 grid w-12 place-content-center pointer-events-none"><i
                                                        class="ph ph-bank text-lg"></i></span>
                                                <input type="text"
                                                       id="beneficiaryBankName"
                                                       name="beneficiaryBankName"
                                                       class="t-fv input-default tracking-widest !pl-10"
                                                       placeholder="Enter Bank Name"/>

                                            </div>
                                            <span class="feedback text-sm text-danger mt-3"></span>
                                        </div>
                                    </div>

                                    <div class="w-full">
                                        <label for="purpose"
                                               class="block mb-2 px-0 text-shark-800 text-sm after:content-['*'] after:ml-0.5 after:text-danger">Purpose
                                            of Transfer</label>
                                        <div class="relative ">
                                              <span class="absolute start-0 top-3 text-shark-800 grid w-12 place-content-center pointer-events-none"><i
                                                          class="ph ph-chat-circle-dots text-lg"></i></span>
                                            <textarea type="text"
                                                      id="purpose"
                                                      name="purpose"
                                                      class="t-fv input-default !pl-10"
                                                      placeholder="Enter Purpose of Transfer"
                                                      rows="3"
                                            ></textarea>
                                        </div>
                                        <span class="feedback text-sm text-danger mt-3"></span>
                                    </div>
                                    <div class="mt-0">
                                        <button type="button" id="local-transfer-submit" class="sm:h-[44px] md:mt-6  sm:mt-0 md:h-[56px] w-full flex-center px-6 bg-purple-heart-800 text-white rounded-md">
                                            Send
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
                <div class="md:col-span-5 sm:col-span-12 md:pr-6">
                    <div class="relative w-full px-6 pt-6 pb-12 mb-12 bg-shark-50/40 border-t md:border-t-0 border-shark-200 rounded-lg md:shadow-lg ">
                        <!-- Title -->
                        <h2 class="text-2xl font-bold text-shark-900 mb-4">
                            Local Transfer <span class="text-purple-heart-600">Help</span>
                        </h2>

                        <!-- Divider -->
                        <hr class="border-gray-200 mb-6"/>

                        <!-- Description -->
                        <p class="text-shark-600 text-base mb-6">
                            Local transfers allow you to send money between accounts within the same country, but they
                            come with certain limitations. While convenient for smaller transactions, local transfers
                            may not offer the same level of security or flexibility as wire transfers.
                        </p>

                        <!-- Divider -->
                        <hr class="border-gray-200 mb-6"/>

                        <!-- Help Section Items -->
                        <div class="space-y-6">
                            <!-- Processing Time -->
                            <div class="flex items-start">
                                <i class="ph-fill ph-arrow-circle-right text-xl text-shark-800 mr-2"></i>
                                <div class="flex flex-col">
                                    <span class="text-shark-900 font-semibold">Lower Daily Limits</span>
                                    <span class="text-sm text-shark-600 mt-2">
                                   Local transfers often have lower daily limits, making them less ideal for large transactions.
                                    </span>
                                </div>
                            </div>

                            <!-- Transfer Limits -->
                            <div class="flex items-start">
                                <i class="ph-fill ph-arrow-circle-right text-xl text-shark-800 mr-2"></i>
                                <div class="flex flex-col">
                                    <span class="text-shark-900 font-semibold">Limited Transfer Reach</span>
                                    <span class="text-sm text-shark-600 mt-2">
                                   Local transfers are restricted to domestic transactions and may not be suitable for international payments.
                                    </span>
                                </div>
                            </div>

                            <!-- Processing Time -->
                            <div class="flex items-start">
                                <i class="ph-fill ph-arrow-circle-right text-xl text-shark-800 mr-2"></i>
                                <div class="flex flex-col">
                                    <span class="text-shark-900 font-semibold">Processing Time</span>
                                    <span class="text-sm text-shark-600 mt-2">
                                 While often fast, delays can occur during peak hours or if the banks' networks are slow.
                                    </span>
                                </div>
                            </div>

                            <!-- Fees -->
                            <div class="flex items-start">
                                <i class="ph-fill ph-arrow-circle-right text-xl text-shark-800 mr-2"></i>
                                <div class="flex flex-col">
                                    <span class="text-shark-900 font-semibold">Fees</span>
                                    <span class="text-sm text-shark-600 mt-2">
                                Though generally lower, local transfers may still incur varying fees depending on the bank.
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Chat with Us Button -->
                        <div class="mt-6">
                            <a href="#"
                               class="sm:h-[44px] md:mt-8  sm:mt-6 md:h-[56px] w-fit flex-center px-6 bg-shark-950 text-white rounded-full">
                                Chat with us
                            </a>
                        </div>

                        <!-- Triangle Shape in Bottom Right Corner -->
                        <div class="absolute bottom-0 right-0">
                            <svg width="100" height="100" viewBox="0 0 100 100" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <polygon points="0,100 100,100 100,0" fill="#5A03D5"/>
                            </svg>
                        </div>
                    </div>

                </div>
            </div>

            <!--  Footer  -->
            <div class="md:px-16 sm:px-4 py-4 w-full flex items-center justify-between  border-t border-shark-200">
    <p>Need Help? <a href="#">Contact Customer Care</a></p>
    <i class="ph-fill ph-headset"></i>
</div>
        </main>

    </div>
</div>
<!-- Auth Modal -->
<!-- Success Modal -->
<div id="success-modal"
     class="fixed inset-0 flex md:items-start sm:items-center justify-center px-4 md:pt-16 bg-gray-900 bg-opacity-50 z-50 hidden">
    <div id="success-modal-container"
         class="flex flex-col justify-center items-start bg-white rounded-lg border border-shark-100 shadow-lg max-w-md w-full pb-6 relative overflow-hidden">
        <div class="w-full flex items-center justify-between text-lg font-semibold text-purple-heart-800 border-b mb-5 px-6 py-4">
            <span id="success-modal-title"
                  class="text-lg font-semibold text-purple-heart-800">Success!</span>
            <div class="flex-shrink-0 flex items-center justify-center h-12 w-12 bg-purple-heart-100 rounded-full">
                <i class="ph-fill ph-check-circle text-purple-heart-800 md:text-3xl sm:text-2xl"></i>
            </div>
        </div>

        <div class="px-6 w-full">
            <div id="success-modal-content-container"
                 class="w-full border-purple-heart-800 flex items-center justify-between gap-2 bg-purple-heart-50/60 border-l-[8px] rounded-xl py-4 px-4">
                <div class="text-shark-600 text-base font-medium">
                    <strong id="success-modal-note" class="text-purple-heart-800">Note:</strong>
                    <span id="success-modal-content"
                          class="text-purple-heart-950">Operation completed successfully!</span>
                </div>
            </div>
        </div>
        <div class="px-6">
            <button id="success-confirm-btn"
                    class="mt-6 bg-purple-heart-800 hover:bg-purple-heart-900 text-white rounded px-4 py-2">Okay
            </button>
        </div>
    </div>
</div>


<!-- Warning Modal -->
<div id="warning-modal"
     class="fixed inset-0 flex md:items-start sm:items-center justify-center px-4 md:pt-16 bg-gray-900 bg-opacity-50 z-50 hidden">
    <div id="warning-modal-container"
         class="flex flex-col justify-center items-start bg-white rounded-lg border border-shark-100 shadow-lg max-w-md w-full pb-6 relative overflow-hidden">
        <div class="w-full flex items-center justify-between text-lg font-semibold text-yellow-600 border-b mb-5 px-6 py-4">
            <span id="warning-modal-title"
                  class="text-lg font-semibold text-yellow-600">Warning!</span>
            <div class="flex-shrink-0 flex items-center justify-center h-12 w-12 bg-yellow-100 rounded-full">
                <i class="ph-fill ph-warning text-yellow-600 md:text-3xl sm:text-2xl"></i>
            </div>
        </div>

        <div class="px-6 w-full">
            <div id="warning-modal-content-container"
                 class="w-full border-yellow-600 flex items-center justify-between gap-2 bg-yellow-50/60 border-l-[8px] rounded-xl py-4 px-4">
                <div class="text-shark-600 text-base font-medium">
                    <strong id="warning-modal-note" class="text-yellow-600">Warning:</strong>
                    <span id="warning-modal-content"
                          class="text-yellow-900">There is something that requires your attention.</span>
                </div>
            </div>
        </div>
        <div class="px-6">
            <button id="warning-confirm-btn"
                    class="mt-6 bg-yellow-600 hover:bg-yellow-700 text-white rounded px-4 py-2">Okay
            </button>
        </div>
    </div>
</div>


<!-- Error Modal -->
<div id="error-modal"
     class="fixed inset-0 flex md:items-start sm:items-center justify-center px-4 md:pt-24 bg-gray-900 bg-opacity-50 z-50 hidden">
    <div id="error-modal-container"
         class="flex flex-col justify-center items-start bg-white rounded-lg border border-shark-100 shadow-lg max-w-md w-full  pb-6 relative overflow-hidden">
        <div class="w-full flex items-center justify-between text-lg font-semibold  text-red-600 border-b mb-5  px-6 py-4 ">
            <span id="error-modal-title"
                  class="text-lg font-semibold  text-red-600">Error!</span>
            <div class="flex-shrink-0 flex items-center justify-center h-12 w-12 bg-red-100 rounded-full">
                <i class="ph-fill ph-x-circle text-red-600 md:text-3xl sm:text-2xl"></i>
            </div>
        </div>

        <div class="px-6 w-full">
            <div id="error-modal-content-container"
                 class="w-full border-red-600 flex items-center justify-between gap-2 bg-red-50/60 border-l-[8px] rounded-xl py-4 px-4">
                <div class="text-shark-600 text-base font-medium">
                    <strong id="error-modal-note" class="text-red-600">Issue:</strong>
                    <span id="error-modal-content" class="text-red-900">Something went wrong. Please try again.</span>
                </div>
            </div>
        </div>
        <div class="px-6">
            <button id="error-confirm-btn" class="mt-6 bg-red-600 hover:bg-red-700 text-white rounded px-4 py-2">Okay
            </button>
        </div>
    </div>
</div>


<!-- Delete Modal -->
<div id="delete-modal"
     class="fixed inset-0 flex  md:items-start sm:items-center justify-center md:pt-24 bg-gray-900 bg-opacity-50 z-50 hidden">
    <!-- Modal Content -->
    <div class="modal-content flex flex-col justify-center items-center bg-white rounded-lg shadow-lg max-w-md w-full p-6 py-10 sm:mx-4 relative">
        <!-- Modal Icon -->
        <div class="modal-icon">
            <div class="flex items-center justify-center mb-2 h-[60px] w-[60px] bg-purple-heart-100 rounded-full">
                <i class="ph-fill ph-check-circle text-3xl text-purple-heart-800"></i>
            </div>
        </div>
        <!-- Modal Title -->
        <h4 class="modal-title text-xl font-semibold text-shark-950 mb-4"></h4>
        <!-- Modal Body -->
        <div class="modal-body text-shark-600 text-base text-center"></div>
        <!-- Modal Action Buttons -->
        <div class="modal-actions mt-6 flex justify-center space-x-4">

            <button class="modal-confirm-btn sm:h-[48px]   sm:mt-4 w-[134px] flex-center px-6 bg-purple-heart-800 text-white rounded-md whitespace-nowrap">
                Yes, Delete
            </button>
            <button class="modal-cancel-btn sm:h-[48px]   sm:mt-4 w-[134px] flex-center px-6 bg-shark-800 text-white rounded-md whitespace-nowrap">
                No, Cancel
            </button>
        </div>
    </div>
</div>


<!-- Transfer Confirmation Modal -->
<div id="transfer-modal"
     class="fixed inset-0 flex md:items-start sm:items-center justify-center px-4 md:pt-16 bg-gray-900 bg-opacity-50 z-50 hidden">
    <div id="transfer-modal-container"
         class="flex flex-col justify-center items-start bg-white rounded-lg border border-shark-100 shadow-lg max-w-md w-full pb-6 relative overflow-hidden">
        <div class="w-full flex items-center justify-between text-lg font-semibold text-purple-heart-800 border-b mb-5 px-6 py-4">
            <span id="success-modal-title"
                  class="text-lg font-semibold text-purple-heart-800">Confirm Transfer?</span>
            <div class="flex-shrink-0 flex items-center justify-center h-12 w-12 bg-purple-heart-100 rounded-full">
                <i class="ph-fill ph-warning text-purple-heart-800 md:text-3xl sm:text-2xl"></i>
            </div>
        </div>

        <div class="px-6 w-full">
            <div id="success-modal-content-container"
                 class="w-full border-purple-heart-800 flex items-center justify-between gap-2 bg-purple-heart-50/60 border-l-[8px] rounded-xl py-4 px-4">
                <div class="text-shark-600 text-base font-medium">
                    <strong id="success-modal-note" class="text-purple-heart-800">Note:</strong>
                    <span id="success-modal-content" class="text-purple-heart-950 text-base font-medium">Are you sure you want to proceed with the transfer? Please note, once confirmed, this action is irreversible.</span>
                </div>
            </div>
        </div>
        <div class="modal-actions px-6 flex items-center gap-4">
            <button class="modal-confirm-btn mt-6 bg-purple-heart-800 hover:bg-purple-heart-900 text-white rounded px-4 py-2">
                Yes, Send
            </button>
            <button class="modal-cancel-btn mt-6 border  text-purple-heart-800 rounded px-4 py-2">No,
                Cancel
            </button>
        </div>
    </div>
</div>

<!-- Transaction Successful Modal -->
<div id="transaction-success-modal"
     class="fixed inset-0 flex md:items-start sm:items-center justify-center px-4 md:pt-16 bg-gray-900 bg-opacity-50 z-50 hidden">
    <div id="transaction-success-modal-container"
         class="flex flex-col justify-center items-start bg-white rounded-lg border border-shark-100 shadow-lg max-w-md w-full pb-10 pt-10 relative overflow-hidden">
        <div class="flex flex-col items-center gap-4 w-full border-b border-shark-100 pb-4">
            <div class="flex-shrink-0 flex items-center justify-center sm:h-[64px] sm:w-[64px] md:h-[70px] md:w-[70px] bg-purple-heart-100 rounded-full">
                <i class="ph-fill ph-check-circle text-purple-heart-800 md:text-5xl sm:text-4xl"></i>
            </div>
            <div class="font-bold text-lg">Transaction Successful</div>
            <div id="main-amount" class="font-bold text-xl">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} 267</div>
        </div>
        <div class="w-full md:px-8 sm:px-6">
            <p id="amount-1" class="flex items-center justify-between gap-2 text-shark-500">Amount<span
                        class="text-shark-600">{% if primary_account %}{{ primary_account.currency }}{% else %}USD{% endif %} 137.00</span>
            </p>
            <p id="receiver-name" class="flex items-center justify-between gap-2 text-shark-500">Receivers Name<span
                        class="text-shark-600">Mattew James</span>
            </p>
            <p id="bank-name" class="flex items-center justify-between gap-2 text-shark-500">Bank Name<span
                        class="text-shark-600">Global Bank</span>
            </p>
            <p id="transfer-status" class="flex items-center justify-between gap-2 text-shark-500">Transfer Status<span
                        class="text-yellow-600">Pending</span>
            </p>
            <p id="account-no" class="flex items-center justify-between gap-2 text-shark-500">Account No<span
                        class="text-shark-600">48909152626</span>
            </p>

        </div>
        <div class="w-full md:px-8 sm:px-6">
            <a id="transaction-link" href="#"
               class="sm:h-[44px] md:mt-8  sm:mt-6 md:h-[56px] w-full flex-center px-6 bg-purple-heart-800 text-white rounded-md">
                View Transaction
            </a>
        </div>
    </div>
</div>


<!-- Cancel Transaction Modal -->
<div id="cancel-transfer-modal"
     class="fixed inset-0 flex md:items-start sm:items-center justify-center px-4 md:pt-16 bg-gray-900 bg-opacity-50 z-50 hidden">
    <div id="cancel-transfer-modal-container"
         class="flex flex-col justify-center items-start bg-white rounded-lg border border-shark-100 shadow-lg max-w-md w-full pb-6 relative overflow-hidden">
        <div class="w-full flex items-center justify-between text-lg font-semibold text-yellow-600 border-b mb-5 px-6 py-4">
            <span id="cancel-transfer-modal-title"
                  class="text-lg font-semibold text-yellow-600">Cancel Transaction?</span>
            <div class="flex-shrink-0 flex items-center justify-center h-12 w-12 bg-yellow-100 rounded-full">
                <i class="ph-fill ph-warning text-yellow-600 md:text-3xl sm:text-2xl"></i>
            </div>
        </div>

        <div class="px-6 w-full">
            <div id="cancel-transfer-modal-content-container"
                 class="w-full border-yellow-600 flex items-center justify-between gap-2 bg-yellow-50/60 border-l-[8px] rounded-xl py-4 px-4">
                <div class="text-shark-600 text-base font-medium">
                    <strong id="cancel-transfer-modal-note" class="text-yellow-600">Note:</strong>
                    <span id="cancel-transfer-modal-content" class="text-yellow-900">Are you sure you want to cancel this Transaction.If you proceed you won't be able to revert this transaction.</span>
                </div>
            </div>
        </div>
        <div class="modal-actions px-6 flex items-center gap-4">
            <button class="modal-confirm-btn mt-6 bg-yellow-600 hover:bg-yellow-900 text-white rounded px-4 py-2">
                Yes, Proceed
            </button>
            <button class="modal-cancel-btn mt-6 border  text-yellow-600 rounded px-4 py-2">No,
                Cancel
            </button>
        </div>
    </div>
</div>

<!-- Footer Links -->
<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>

<!-- Google Translate Script -->
<script type="text/javascript">
    let translateElement;

    function googleTranslateElementInit() {
        // Initial setup based on the current screen size
        initGoogleTranslateWidget();

        // Reinitialize on screen size change
        window.addEventListener('resize', () => {
            setTimeout(() => {
                initGoogleTranslateWidget();
            }, 300); // Small debounce to prevent excessive reinitialization
        });
    }

    function initGoogleTranslateWidget() {
        const isDesktop = window.innerWidth >= 768;
        const containerId = isDesktop ? 'google_translate_desktop' : 'google_translate_mobile';

        // Check if the container exists
        const container = document.getElementById(containerId);
        if (!container) {
            console.warn(`Google Translate container not found: ${containerId}`);
            return; // Exit the function if the container doesn't exist
        }

        // Destroy any existing widget
        const existingWidget = container.querySelector('.skiptranslate');
        if (existingWidget) existingWidget.remove();

        // Reinitialize Google Translate in the appropriate container
        new google.translate.TranslateElement(
            {
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.VERTICAL,
            },
            containerId
        );
    }
</script>


<script type="text/javascript"
        src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


<!-- AOS JS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<!-- JQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<!-- Include printThis library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/printThis/1.15.0/printThis.min.js"></script>

<!-- DataTable JS -->
<script src="https://cdn.datatables.net/2.1.6/js/dataTables.js"></script>

<!-- DataTables Tailwind  -->
<script src="{% static 'src/js/datatable.js' %}"></script>

<!-- Normal List  -->
<script src="{% static 'src/js/list.js' %}"></script>

<!-- Swiper -->
<script src="{% static 'src/js/swiper.js' %}"></script>

<!-- Floating UI -->
<script type="module" src="{% static 'src/js/floating-ui.js' %}"></script>

<!-- Date Time -->
<script type="module" src="{% static 'src/js/datetime.js' %}"></script>

<!-- Form Validator -->
<script src="{% static 'src/js/form-validation.js' %}"></script>

<!-- Script -->
<script src="{% static 'src/js/script.js' %}"></script>

<!-- Transfer -->
<script src="{% static 'src/js/transfer.js' %}"></script>
<script>
    (function(){
        const btn = document.getElementById('local-transfer-submit');
        const form = document.getElementById('local-transfer-form');
        const successModal = document.getElementById('transaction-success-modal');
        const successContainer = document.getElementById('transaction-success-modal-container');
        const mainAmountEl = document.getElementById('main-amount');
        const amount1El = document.getElementById('amount-1');
        const receiverNameEl = document.getElementById('receiver-name');
        const bankNameEl = document.getElementById('bank-name');
        const statusEl = document.getElementById('transfer-status');
        const accountNoEl = document.getElementById('account-no');
        const viewLink = document.getElementById('transaction-link');

        function getCSRF(){
            const el = document.querySelector('input[name="csrfmiddlewaretoken"]');
            return el ? el.value : '';
        }

        function showSuccess(){
            successModal.classList.remove('hidden');
            successModal.classList.add('flex');
            successContainer.classList.add('animate__animated','animate__fadeIn');
        }

        function hideSuccess(){
            successContainer.classList.remove('animate__fadeIn');
            successContainer.classList.add('animate__fadeOut');
            successContainer.addEventListener('animationend', ()=>{
                successModal.classList.add('hidden');
                successModal.classList.remove('flex');
            },{once:true});
        }

        if(btn){
            btn.addEventListener('click', async ()=>{
                // Collect data
                const fd = new FormData(form);
                fd.append('transferFrom', document.getElementById('transferFrom')?.value || 'main-balance');

                btn.disabled = true;
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<span class="flex items-center gap-2"><svg class="w-4 h-4 animate-spin" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" class="stroke-slate-200" stroke-width="4"/><path d="M12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 9.34784 20.9464 6.8043 19.0711 4.92893C17.1957 3.05357 14.6522 2 12 2" class="stroke-purple-heart-800" stroke-width="4"/></svg><span>Processing...</span></span>';

                try{
                    const resp = await fetch(form.action, {
                        method: 'POST',
                        headers: {
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        body: fd
                    });
                    const data = await resp.json();
                    if(!data.success){
                        throw new Error(data.error || 'Transfer failed');
                    }
                    // Populate modal
                    if(mainAmountEl) mainAmountEl.textContent = data.amount;
                    if(amount1El) amount1El.innerHTML = 'Amount<span class="text-shark-600">'+data.amount+'</span>';
                    if(receiverNameEl) receiverNameEl.innerHTML = 'Receivers Name<span class="text-shark-600">'+(data.recipient_name||'')+'</span>';
                    if(bankNameEl) bankNameEl.innerHTML = 'Bank Name<span class="text-shark-600">'+(data.bank_name||'')+'</span>';
                    if(statusEl) statusEl.innerHTML = 'Transfer Status<span class="text-yellow-600">Pending</span>';
                    if(accountNoEl) accountNoEl.innerHTML = 'Account No<span class="text-shark-600">'+(data.beneficiary_account_number||'')+'</span>';
                    if(viewLink) viewLink.href = data.redirect || '{% url 'transaction_history' %}';
                    showSuccess();
                }catch(err){
                    alert(err.message);
                }finally{
                    btn.disabled = false;
                    btn.innerHTML = originalHTML;
                }
            });
        }

        if(viewLink){
            viewLink.addEventListener('click', function(e){
                e.preventDefault();
                window.location.href = this.href;
            });
        }
    })();
</script>
</body>

</html>
